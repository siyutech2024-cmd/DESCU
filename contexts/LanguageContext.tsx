
import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';
import { Language } from '../types';

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
  formatPrice: (price: number) => string;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

const translations: Record<Language, Record<string, string>> = {
  zh: {
    'app.name': 'DESCU',
    'nav.search': 'æœç´¢å®è´ã€è½¦è¾†ã€æˆ¿äº§...',
    'nav.sell': 'å–é—²ç½®',
    'nav.home': 'é¦–é¡µ',
    'nav.cart': 'è´­ç‰©è½¦',
    'nav.favorites': 'æˆ‘çš„æ”¶è—',
    'nav.profile': 'æˆ‘çš„',
    'nav.login': 'ç™»å½•',
    'nav.chat': 'æ¶ˆæ¯',
    'nav.notifications': 'æé†’',
    'login.required': 'éœ€è¦ç™»å½•',
    'login.prompt': 'è¯·ç™»å½•ä»¥ç»§ç»­æ“ä½œ',
    'login.google': 'ä½¿ç”¨ Google ç™»å½•',
    'login.terms': 'ç»§ç»­å³è¡¨ç¤ºåŒæ„æœåŠ¡æ¡æ¬¾',
    'hero.title': 'æœ¬åœ°ä¹°å–ï¼Œæ–¹ä¾¿å¿«æ·',
    'hero.subtitle': 'æ‚¨èº«è¾¹çš„AIæ™ºèƒ½äºŒæ‰‹å¹³å°',
    'hero.cta': 'ç«‹å³æ¢ç´¢',
    'list.header': 'ä¸ºæ‚¨æ¨è',
    'list.search_results': 'æœç´¢ç»“æœ',
    'list.items_count': 'ä»¶å•†å“',
    'list.loading_loc': 'æ­£åœ¨å®šä½...',
    'list.loc_denied': 'è¯·å¼€å¯å®šä½',
    'list.loc_success': 'é™„è¿‘',
    'list.empty': 'æš‚æ— å•†å“ï¼Œå¿«æ¥å‘å¸ƒç¬¬ä¸€ä¸ªå§ï¼',
    'list.no_results': 'æ²¡æœ‰æ‰¾åˆ°ç›¸å…³å•†å“',
    'list.view_all': 'æŸ¥çœ‹æ‰€æœ‰å•†å“',
    'list.load_more': 'åŠ è½½æ›´å¤š',
    'list.loading_more': 'åŠ è½½ä¸­...',
    'card.nearby': 'é™„è¿‘',
    'chat.ask_price': 'è®®ä»·',
    'chat.offer_title': 'æå‡ºè®®ä»·',
    'chat.current_price': 'å½“å‰ä»·æ ¼',
    'chat.your_offer': 'æ‚¨çš„å‡ºä»·',
    'chat.send_offer': 'å‘é€è®®ä»·',
    'chat.cancel': 'å–æ¶ˆ',
    'card.add_cart': 'æƒ³è¦',
    'card.in_cart': 'å·²æ·»åŠ ',
    'card.promoted': 'æ¨å¹¿',
    'modal.title': 'å‘å¸ƒé—²ç½®',
    'modal.upload_text': 'ç‚¹å‡»ä¸Šä¼ ç…§ç‰‡',
    'modal.upload_hint': 'AIå°†è‡ªåŠ¨è¯†åˆ«å¹¶å¡«å†™ä¿¡æ¯',
    'modal.change_img': 'æ›´æ”¹å›¾ç‰‡',
    'modal.analyzing': 'AI æ­£åœ¨åˆ†æå›¾ç‰‡ç”Ÿæˆæè¿°...',
    'modal.analyzed': 'AI å·²ä¸ºæ‚¨è‡ªåŠ¨å¡«å……ä¿¡æ¯',
    'modal.label.title': 'æ ‡é¢˜',
    'modal.ph.title': 'ä¾‹å¦‚ï¼š95æˆæ–° iPhone 14',
    'modal.label.price': 'ä»·æ ¼',
    'modal.label.category': 'åˆ†ç±»',
    'modal.label.delivery': 'äº¤æ˜“æ–¹å¼',
    'modal.label.desc': 'è¯¦ç»†æè¿°',
    'modal.ph.desc': 'æè¿°ä¸€ä¸‹ç‰©å“çš„æ–°æ—§ç¨‹åº¦ã€å…¥æ‰‹æ¸ é“ç­‰...',
    'modal.loc.loading': 'å®šä½ä¸­...',
    'modal.loc.success': 'ä½ç½®å·²é”å®š',
    'modal.submit': 'ç«‹å³å‘å¸ƒ',
    'modal.submit.analyzing': 'åˆ†æä¸­...',
    'modal.policy_hint': 'å‘å¸ƒå³è¡¨ç¤ºæ‚¨åŒæ„æˆ‘ä»¬çš„å†…å®¹æ”¿ç­–ï¼Œä¸¥ç¦å‘å¸ƒä»‡æ¨è¨€è®ºæˆ–è™šå‡æ”¿æ²»ä¿¡æ¯ã€‚',
    'modal.ai_error': 'AIåˆ†æå¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–ç¨åé‡è¯•',
    'cart.title': 'è´­ç‰©è½¦',
    'cart.empty': 'è´­ç‰©è½¦ç©ºç©ºå¦‚ä¹Ÿ',
    'cart.go_shop': 'å»é€›é€›',
    'cart.total': 'åˆè®¡',
    'cart.checkout': 'ç«‹å³ç»“ç®—',
    'cart.processing': 'å¤„ç†ä¸­...',
    'cart.success': 'ä¸‹å•æˆåŠŸï¼',
    'cat.all': 'å…¨éƒ¨',
    'cat.electronics': 'æ•°ç ',
    'cat.furniture': 'å®¶å…·',
    'cat.clothing': 'æœé¥°',
    'cat.books': 'å›¾ä¹¦',
    'cat.sports': 'è¿åŠ¨',
    'cat.vehicles': 'è½¦è¾†',
    'cat.real_estate': 'æˆ¿äº§',
    'cat.services': 'æœåŠ¡',
    'cat.other': 'å…¶ä»–',
    // Subcategories - Electronics
    'subcat.phones': 'æ‰‹æœº',
    'subcat.laptops': 'ç¬”è®°æœ¬',
    'subcat.tablets': 'å¹³æ¿',
    'subcat.cameras': 'ç›¸æœº',
    'subcat.audio': 'éŸ³å“',
    'subcat.gaming': 'æ¸¸æˆè®¾å¤‡',
    'subcat.wearables': 'ç©¿æˆ´è®¾å¤‡',
    'subcat.accessories': 'é…ä»¶',
    // Subcategories - Vehicles
    'subcat.cars': 'æ±½è½¦',
    'subcat.motorcycles': 'æ‘©æ‰˜è½¦',
    'subcat.bicycles': 'è‡ªè¡Œè½¦',
    'subcat.trucks': 'å¡è½¦',
    'subcat.parts': 'é›¶ä»¶',
    // Subcategories - RealEstate
    'subcat.apartments': 'å…¬å¯“',
    'subcat.houses': 'åˆ«å¢…',
    'subcat.land': 'åœŸåœ°',
    'subcat.commercial': 'å•†é“º',
    'subcat.rentals': 'å‡ºç§Ÿ',
    // Subcategories - Furniture
    'subcat.sofas': 'æ²™å‘',
    'subcat.beds': 'åºŠ',
    'subcat.tables': 'æ¡Œæ¤…',
    'subcat.storage': 'å‚¨ç‰©æŸœ',
    'subcat.office': 'åŠå…¬å®¶å…·',
    // Subcategories - Clothing
    'subcat.women': 'å¥³è£…',
    'subcat.men': 'ç”·è£…',
    'subcat.kids': 'ç«¥è£…',
    'subcat.shoes': 'é‹ç±»',
    'subcat.fashion_accessories': 'é…é¥°',
    // Subcategories - Sports
    'subcat.fitness': 'å¥èº«',
    'subcat.outdoor': 'æˆ·å¤–',
    'subcat.team_sports': 'çƒç±»',
    'subcat.water_sports': 'æ°´ä¸Šè¿åŠ¨',
    'subcat.winter_sports': 'å†¬å­£è¿åŠ¨',
    // Subcategories - Services
    'subcat.repair': 'ç»´ä¿®',
    'subcat.cleaning': 'æ¸…æ´',
    'subcat.teaching': 'æ•™å­¦',
    'subcat.beauty': 'ç¾å®¹',
    'subcat.moving': 'æ¬å®¶',
    // Subcategories - Books
    'subcat.fiction': 'å°è¯´',
    'subcat.textbooks': 'æ•™æ',
    'subcat.children': 'å„¿ç«¥è¯»ç‰©',
    'subcat.magazines': 'æ‚å¿—',
    'subcat.comics': 'æ¼«ç”»',
    // Subcategories - Other
    'subcat.collectibles': 'æ”¶è—å“',
    'subcat.pets': 'å® ç‰©ç”¨å“',
    'subcat.food': 'é£Ÿå“',
    'subcat.plants': 'æ¤ç‰©',
    'delivery.meetup': 'å½“é¢äº¤æ˜“',
    'delivery.shipping': 'å¿«é€’å‘è´§',
    'delivery.both': 'é¢äº¤/å¿«é€’',
    'detail.back': 'è¿”å›',
    'detail.seller': 'å–å®¶ä¿¡æ¯',
    'detail.verified': 'å·²è®¤è¯å–å®¶',
    'detail.contact': 'è”ç³»å–å®¶',
    'detail.posted': 'å‘å¸ƒäº',
    'detail.location': 'äº¤æ˜“åœ°ç‚¹',
    'detail.delivery': 'é…é€æ–¹å¼',
    'detail.desc_title': 'å•†å“è¯¦æƒ…',
    'detail.recommend': 'çŒœä½ å–œæ¬¢',
    'detail.report': 'ä¸¾æŠ¥æ­¤å†…å®¹',
    'profile.title': 'ä¸ªäººä¸­å¿ƒ',
    'profile.avatar': 'å¤´åƒ',
    'profile.change_avatar': 'æ›´æ¢å¤´åƒ',
    'profile.name': 'æ˜µç§°',
    'profile.email': 'é‚®ç®±',
    'profile.save': 'ä¿å­˜ä¿®æ”¹',
    'profile.saved': 'ä¿å­˜æˆåŠŸï¼',
    'profile.listings': 'æˆ‘å‘å¸ƒçš„',
    'profile.no_listings': 'æš‚æ— å‘å¸ƒè®°å½•',
    'profile.verify_title': 'èº«ä»½è®¤è¯',
    'profile.verify_desc': 'æäº¤èº«ä»½è¯ä»¶ï¼Œè·å¾—è“ç›¾æ ‡è¯†ï¼Œåšå€¼å¾—ä¿¡èµ–çš„å–å®¶ã€‚',
    'profile.get_verified': 'æäº¤è¯ä»¶ (å…è´¹)',
    'profile.verifying': 'å®¡æ ¸ä¸­...',
    'profile.is_verified': 'èº«ä»½å·²è®¤è¯',
    'profile.boost': 'æ¨å¹¿',
    'profile.safety_policies': 'å®‰å…¨ä¸æ”¿ç­–',
    'profile.content_policy': 'å†…å®¹ä¸æ”¿æ²»è§„èŒƒ',
    'profile.privacy_policy': 'éšç§æ”¿ç­–',
    'profile.buying': 'æˆ‘çš„è®¢å•',
    'profile.selling': 'æˆ‘çš„é”€å”®',
    'profile.payouts': 'æ”¶æ¬¾è®¾ç½®',
    'profile.payouts_desc': 'ç»‘å®šé“¶è¡Œè´¦æˆ·ä»¥æ¥æ”¶é”€å”®æ¬¾é¡¹ (æ”¯æŒStripe)ã€‚',
    'profile.setup_payouts': 'ç«‹å³ç»‘å®š',
    'report.title': 'ä¸¾æŠ¥å†…å®¹',
    'report.reason': 'ä¸¾æŠ¥åŸå› ',
    'report.reason.misinfo': 'æ”¿æ²»è™šå‡ä¿¡æ¯',
    'report.reason.hate': 'ä»‡æ¨è¨€è®ºæˆ–æ­§è§†',
    'report.reason.scam': 'è¯ˆéª—æˆ–è¯¯å¯¼',
    'report.reason.prohibited': 'ç¦æ­¢é”€å”®çš„ç‰©å“',
    'report.reason.sensitive': 'æ•æ„Ÿæ”¿æ²»å®£ä¼ ',
    'report.submit': 'æäº¤ä¸¾æŠ¥',
    'report.success': 'æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼Œæˆ‘ä»¬å°†è¿›è¡Œå®¡æ ¸ã€‚',
    'time.today': 'ä»Šå¤©',
    'time.days_ago': '{0}å¤©å‰',
    'chat.inbox': 'æ¶ˆæ¯åˆ—è¡¨',
    'chat.type': 'è¾“å…¥æ¶ˆæ¯...',
    'chat.send': 'å‘é€',
    'chat.no_msgs': 'æš‚æ— æ¶ˆæ¯',
    'chat.empty_inbox': 'è¿˜æ²¡æœ‰å¼€å§‹ä»»ä½•å¯¹è¯',
    'chat.you': 'ä½ ',
    // è®®ä»·ç›¸å…³
    'nego.title': 'è®®ä»·',
    'nego.original_price': 'åŸä»·',
    'nego.your_offer': 'å‡ºä»·',
    'nego.counter_price': 'å–å®¶æŠ¥ä»·',
    'nego.final_price': 'æˆäº¤ä»·',
    'nego.status.pending': 'å¾…å“åº”',
    'nego.status.accepted': 'å·²æ¥å—',
    'nego.status.rejected': 'å·²æ‹’ç»',
    'nego.status.countered': 'å–å®¶è¿˜ä»·',
    'nego.action.accept': 'æ¥å—',
    'nego.action.counter': 'è¿˜ä»·',
    'nego.action.reject': 'æ‹’ç»',
    'nego.confirm_counter': 'ç¡®è®¤è¿˜ä»·',
    'nego.cancel': 'å–æ¶ˆ',
    'nego.success.accepted': 'è®®ä»·æˆåŠŸï¼ä»·æ ¼',
    'nego.success.rejected': 'å–å®¶æ‹’ç»äº†æ­¤è®®ä»·',
    'nego.success.countered': 'å–å®¶æå‡ºæ–°æŠ¥ä»·',
    'nego.enter_price': 'è¾“å…¥æ‚¨çš„æŠ¥ä»·',
    'nego.failed': 'å“åº”è®®ä»·å¤±è´¥ï¼Œè¯·é‡è¯•',
    // èŠå¤©åˆ—è¡¨
    'chat.tab.all': 'å…¨éƒ¨',
    'chat.tab.active': 'è¿›è¡Œä¸­',
    'chat.tab.inquiring': 'å’¨è¯¢ä¸­',
    'chat.tab.completed': 'å·²å®Œæˆ',
    'chat.unknown_product': 'æœªçŸ¥å•†å“',
    'chat.view_details': 'ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…',
    'chat.conversations': 'å¯¹è¯',
    'chat.empty_inbox_hint': 'ä»å•†å“é¡µé¢å¼€å§‹èŠå¤©å§',
    'chat.no_chats_in_tab': 'æ­¤åˆ†ç±»æš‚æ— å¯¹è¯',
    'chat.buyers': 'ä½ä¹°å®¶',
    'chat.hide': 'éšè—',
    'chat.delete': 'åˆ é™¤',
    'chat.trading': 'äº¤æ˜“ä¸­',
    'chat.hide_conversation': 'éšè—å¯¹è¯',
    'chat.delete_conversation': 'åˆ é™¤å¯¹è¯',
    'chat.delete_confirm': 'ç¡®å®šåˆ é™¤æ­¤å¯¹è¯ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚',
    'chat.hidden_count': 'ä¸ªå¯¹è¯å·²éšè—',
    'chat.online': 'æ´»è·ƒä¸­',
    'chat.view_product': 'ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…',
    'chat.report_user': 'ä¸¾æŠ¥ç”¨æˆ·',
    'chat.block_user': 'å±è”½ç”¨æˆ·',
    'chat.user_reported': 'å·²ä¸¾æŠ¥',
    'chat.user_blocked': 'å·²å±è”½',
    'chat.loading': 'åŠ è½½ä¸­...',
    'chat.load_earlier': 'åŠ è½½æ›´æ—©çš„æ¶ˆæ¯',
    'chat.send_failed': 'å‘é€å¤±è´¥ï¼Œè¯·é‡è¯•',
    'chat.make_offer': 'è®®ä»·',
    'chat.share_location': 'åˆ†äº«ä½ç½®',
    'chat.arrange_meetup': 'çº¦å®šæ—¶é—´',
    'chat.arrange_meetup_btn': 'å®‰æ’è§é¢',
    'chat.deleted_success': 'èŠå¤©è®°å½•å·²åˆ é™¤',
    'list.search_hint': 'è¯•è¯•æ¢ä¸ªå…³é”®è¯æˆ–æ›´ç¬¼ç»Ÿçš„æœç´¢',
    'list.empty_hint': 'æˆä¸ºè¯¥åˆ†ç±»çš„ç¬¬ä¸€ä¸ªå–å®¶ï¼',
    'product.rate_seller': 'è¯„ä»·å–å®¶',
    'product.share': 'åˆ†äº«',
    'profile.reviews': 'è¯„ä»·',
    'nav.logout': 'é€€å‡ºç™»å½•',
    // Toast æ¶ˆæ¯
    'toast.login_failed': 'ç™»å½•éªŒè¯å¤±è´¥',
    'toast.profile_updated': 'ä¸ªäººèµ„æ–™å·²æ›´æ–°',
    'toast.update_failed': 'æ›´æ–°å¤±è´¥',
    'toast.product_published': 'ğŸ‰ å•†å“å‘å¸ƒæˆåŠŸï¼',
    'toast.product_publish_failed': 'âŒ å•†å“å‘å¸ƒå¤±è´¥',
    'toast.please_login': 'è¯·å…ˆç™»å½•',
    'toast.favorite_added': 'å·²æ·»åŠ åˆ°æ”¶è—',
    'toast.favorite_removed': 'å·²ä»æ”¶è—ç§»é™¤',
    'toast.favorite_update_failed': 'æ”¶è—æ›´æ–°å¤±è´¥',
    'toast.chat_open_failed': 'âŒ æ— æ³•æ‰“å¼€èŠå¤©,è¯·ç¨åé‡è¯•',
    'toast.message_send_failed': 'âŒ æ¶ˆæ¯å‘é€å¤±è´¥,è¯·é‡è¯•',
    'toast.load_failed': 'åŠ è½½å¤±è´¥',
    'toast.upload_failed': 'ä¸Šä¼ å¤±è´¥,è¯·é‡è¯•',
    'product.sold': 'å·²å”®å‡º',
    'product.mark_sold': 'æ ‡è®°å·²å”®',
    'product.relist': 'é‡æ–°ä¸Šæ¶',
    'product.relist_confirm': 'é‡æ–°ä¸Šæ¶éœ€è¦é‡æ–°å®¡æ ¸ï¼Œç¡®å®šç»§ç»­å—ï¼Ÿ',
    'product.not_available': 'ä¸å¯è´­ä¹°',
    'product.want_it': 'æˆ‘è¦äº†',
    'product.arrange_meetup': 'çº¦è§é¢',
    'meetup.location_tbd': 'å¾…ç¡®å®š',
    'meetup.confirmed': 'è§é¢æ—¶é—´å·²ç¡®å®š',
    'common.cancel': 'å–æ¶ˆ',
    'product.pending_review': 'å®¡æ ¸ä¸­',
    'product.rejected': 'å·²æ‹’ç»',
    'profile.collapse': 'æ”¶èµ·',
    'profile.settings': 'è®¾ç½®ä¸è´¦æˆ·',
    'meetup.title': 'çº¦å®šè§é¢æ—¶é—´',
    'meetup.product': 'å•†å“',
    'meetup.select_date': 'é€‰æ‹©æ—¥æœŸ',
    'meetup.select_time': 'é€‰æ‹©æ—¶é—´',
    'meetup.select_time_placeholder': 'è¯·é€‰æ‹©æ—¶é—´',
    'meetup.location_label': 'è§é¢åœ°ç‚¹ï¼ˆå¯é€‰ï¼‰',
    'meetup.location_placeholder': 'ä¾‹å¦‚ï¼šæ˜Ÿå·´å…‹',
    'meetup.note_label': 'å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰',
    'meetup.note_placeholder': 'è¡¥å……è¯´æ˜...',
    'meetup.sending': 'å‘é€ä¸­...',
    'meetup.send_invite': 'å‘é€è§é¢é‚€è¯·',
    'meetup.tip': 'å¯¹æ–¹å¯ä»¥ç¡®è®¤æˆ–å»ºè®®æ–°çš„æ—¶é—´',
    'meetup.today': 'ä»Šå¤©',
    'meetup.tomorrow': 'æ˜å¤©',
    'meetup.alert_datetime': 'è¯·é€‰æ‹©æ—¥æœŸå’Œæ—¶é—´',
    'meetup.alert_login': 'è¯·å…ˆç™»å½•',
    'meetup.alert_send_failed': 'å‘é€å¤±è´¥ï¼Œè¯·é‡è¯•',
    'meetup.about_product': 'å…³äºå•†å“',
    'meetup.date_label': 'æ—¥æœŸ',
    'meetup.time_label': 'æ—¶é—´',
    'meetup.location_detail': 'åœ°ç‚¹',
    'meetup.note_detail': 'å¤‡æ³¨',
    'meetup.confirm_btn': 'ç¡®è®¤',
    'meetup.suggest_new': 'å»ºè®®æ–°æ—¶é—´',
    'meetup.waiting': 'ç­‰å¾…å¯¹æ–¹ç¡®è®¤...',
    'meetup.status_pending': 'âš“ å¾…ç¡®è®¤',
    'meetup.status_confirmed': 'âœ… å·²ç¡®è®¤',
    'meetup.status_rejected': 'âŒ å·²æ‹’ç»',
    'meetup.status_counter': 'ğŸ”„ å»ºè®®æ–°æ—¶é—´',
    'meetup.alert_confirm_failed': 'ç¡®è®¤å¤±è´¥ï¼Œè¯·é‡è¯•',
    'payout.title': 'æ”¶æ¬¾ç®¡ç†',
    'payout.subtitle': 'ç®¡ç†ä½ çš„æ”¶æ¬¾',
    'payout.total': 'æ€»æ”¶å…¥',
    'payout.pending': 'å¾…è½¬è´¦',
    'payout.received': 'å·²åˆ°è´¦',
    'payout.bank_account': 'é“¶è¡Œè´¦æˆ·',
    'payout.edit': 'ç¼–è¾‘',
    'payout.clabe_label': 'CLABE (18 ä½)',
    'payout.clabe_placeholder': 'è¾“å…¥ 18 ä½ CLABE',
    'payout.clabe_error': 'CLABE å¿…é¡»æ˜¯ 18 ä½æ•°å­—',
    'payout.bank_name': 'é“¶è¡Œåç§°',
    'payout.holder_name': 'æŒæœ‰äººå§“å',
    'payout.save': 'ä¿å­˜',
    'payout.save_error': 'ä¿å­˜å¤±è´¥',
    'payout.digits_remaining': 'è¿˜éœ€è¾“å…¥ {0} ä½',
    'payout.cancel': 'å–æ¶ˆ',
    'payout.history': 'æ”¶æ¬¾è®°å½•',
    'payout.status_received': 'å·²åˆ°è´¦',
    'payout.status_processing': 'å¤„ç†ä¸­',
    'payout.status_pending': 'å¾…è½¬è´¦',
    'payout.collapse': 'æ”¶èµ·',
    'payout.view_all': 'æŸ¥çœ‹å…¨éƒ¨',
    'stripe.payments_active': 'æ”¶æ¬¾å·²å¯ç”¨',
    'stripe.ready_desc': 'æ‚¨çš„è´¦æˆ·å·²å‡†å¤‡å¥½æ¥æ”¶ä»˜æ¬¾',
    'stripe.account_status': 'è´¦æˆ·çŠ¶æ€',
    'stripe.active': 'å·²æ¿€æ´»',
    'stripe.view_dashboard': 'æŸ¥çœ‹ Stripe é¢æ¿',
    'stripe.complete_setup': 'å®Œæˆæ³¨å†Œ',
    'stripe.info_required': 'ç¼ºå°‘å¿…è¦ä¿¡æ¯',
    'stripe.continue': 'ç»§ç»­æ³¨å†Œ',
    'stripe.start_title': 'å¼€å§‹æ”¶æ¬¾',
    'stripe.start_desc': 'é…ç½®æ‚¨çš„é“¶è¡Œè´¦æˆ·',
    'stripe.benefit_receive': 'ç›´æ¥æ¥æ”¶ä»˜æ¬¾',
    'stripe.benefit_withdraw': 'æç°åˆ°é“¶è¡Œ',
    'stripe.benefit_secure': 'å®‰å…¨å¯é ',
    'stripe.start_now': 'ç«‹å³å¼€å§‹',
    'stripe.powered_by': 'Powered by Stripe',
    'negotiate.invalid_price': 'è¯·è¾“å…¥æœ‰æ•ˆçš„ä»·æ ¼',
    'negotiate.login_first': 'è¯·å…ˆç™»å½•',
    'negotiate.sent': 'è®®ä»·å·²å‘é€',
    'negotiate.send_failed': 'å‘é€è®®ä»·å¤±è´¥ï¼Œè¯·é‡è¯•',
    'negotiate.subtitle': 'åå•†ä»·æ ¼',
    'negotiate.your_offer': 'æ‚¨çš„å‡ºä»·',
    'negotiate.discount': 'ä¼˜æƒ ',
    'negotiate.save_amount': 'çœ',
    'negotiate.low_warning': 'å‡ºä»·è¿‡ä½å¯èƒ½ä¸è¢«æ¥å—',
    'negotiate.sending': 'å‘é€ä¸­...',
    'nav.relocate': 'é‡æ–°å®šä½',
    'camera.ai_failed': 'AI æ— æ³•è¯†åˆ«ï¼Œè¯·æ‰‹åŠ¨å¡«å†™',
    'profile.bank_saved': 'é“¶è¡Œè´¦æˆ·å·²ä¿å­˜ï¼',
    'image.title': 'åˆ†äº«å›¾ç‰‡',
    'image.from_gallery': 'ä»ç›¸å†Œé€‰æ‹©',
    'image.take_photo': 'æ‹ç…§',
    'image.count': '{0}/5 å¼ å›¾ç‰‡',
    'image.uploading': 'ä¸Šä¼ ä¸­... {0}%',
    'image.send': 'å‘é€ {0} å¼ å›¾ç‰‡',
    'image.tip': 'æœ€å¤šå¯é€‰æ‹©5å¼ å›¾ç‰‡ï¼Œæ¯å¼ æœ€å¤§5MB',
    'image.login_first': 'è¯·å…ˆç™»å½•',
    'image.send_failed': 'å‘é€å›¾ç‰‡å¤±è´¥ï¼Œè¯·é‡è¯•',
    'image.shared': 'åˆ†äº«äº†{0}å¼ å›¾ç‰‡',
    'location.title': 'åˆ†äº«ä½ç½®',
    'location.current': 'ä½¿ç”¨å½“å‰ä½ç½®',
    'location.or_search': 'æˆ–æœç´¢åœ°ç‚¹',
    'location.search_placeholder': 'æœç´¢åœ°ç‚¹...',
    'location.current_name': 'å½“å‰ä½ç½®',
    'location.lat_lng': 'çº¬åº¦: {0}, ç»åº¦: {1}',
    'location.geo_unsupported': 'æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒåœ°ç†å®šä½',
    'location.geo_denied': 'æ— æ³•è·å–æ‚¨çš„ä½ç½®ï¼Œè¯·æ£€æŸ¥æƒé™è®¾ç½®',
    'location.not_found': 'æœªæ‰¾åˆ°è¯¥åœ°ç‚¹',
    'location.send_failed': 'å‘é€ä½ç½®å¤±è´¥ï¼Œè¯·é‡è¯•',
    'location.sending': 'å‘é€ä¸­...',
    'location.send': 'å‘é€ä½ç½®',
    'location.tip': 'å¯å°è¯•æœç´¢å¸¸ç”¨åœ°ç‚¹',
    'location.shared': 'åˆ†äº«äº†ä½ç½®',
    'location.address_copied': 'åœ°å€å·²å¤åˆ¶',
    'location.shared_by': '{0} åˆ†äº«äº†ä½ç½®',
    'location.share_title': 'ä½ç½®åˆ†äº«',
    'location.navigate': 'å¯¼èˆª',
    'location.copy': 'å¤åˆ¶',
    'location.view_in_maps': 'åœ¨ Google Maps ä¸­æŸ¥çœ‹',
    'location.map_preview': 'åœ°å›¾é¢„è§ˆ',
    'location.click_map': 'ç‚¹å‡»æŸ¥çœ‹å¤§åœ°å›¾',
    'auth.login_failed': 'ç™»å½•å¤±è´¥ï¼Œè¯·é‡è¯•',
    'auth.logging_in': 'ç™»å½•ä¸­...',
    'auth.login_google': 'ä½¿ç”¨ Google ç™»å½•',
    'auth.logout': 'é€€å‡ºç™»å½•',
    // Checkout
    'checkout.select_method': 'é€‰æ‹©äº¤æ˜“æ–¹å¼',
    'checkout.meetup_title': 'å½“é¢äº¤æ˜“',
    'checkout.meetup_desc': 'è§é¢äº¤æ˜“ï¼Œç°é‡‘æ”¯ä»˜',
    'checkout.shipping_title': 'å¿«é€’é…é€',
    'checkout.shipping_desc': 'é€è´§ä¸Šé—¨ï¼Œåœ¨çº¿å®‰å…¨æ”¯ä»˜',
    'checkout.review': 'ç¡®è®¤è®¢å•',
    'checkout.payment_cash': 'ç°é‡‘æ”¯ä»˜',
    'checkout.payment_online': 'åœ¨çº¿æ”¯ä»˜',
    'checkout.product': 'å•†å“',
    'checkout.shipping_fee': 'è¿è´¹',
    'checkout.platform_fee': 'å¹³å°æ‰‹ç»­è´¹ (3%)',
    'checkout.total': 'åˆè®¡',
    'checkout.confirm': 'ç¡®è®¤ä¸‹å•',
    'checkout.pay_now': 'å»æ”¯ä»˜',
    'checkout.processing': 'å¤„ç†ä¸­...',
    'checkout.secure_payment': 'å®‰å…¨æ”¯ä»˜',
    'checkout.success': 'ä¸‹å•æˆåŠŸï¼',
    'checkout.meetup_success': 'è¯·åˆ°èŠå¤©å’Œå–å®¶çº¦å®šè§é¢æ—¶é—´å’Œåœ°ç‚¹',
    'checkout.shipping_success': 'å–å®¶å·²æ”¶åˆ°é€šçŸ¥ï¼Œå°†å°½å¿«å‘è´§',
    'checkout.go_orders': 'æŸ¥çœ‹è®¢å•',
    'checkout.no_methods': 'æ— å¯ç”¨é…é€æ–¹å¼',
    'checkout.address': 'æ”¶è´§åœ°å€',
    'checkout.address_required': 'è¯·é€‰æ‹©æˆ–æ·»åŠ æ”¶è´§åœ°å€',
    'checkout.address_hint': 'è¯·é€‰æ‹©æ”¶è´§åœ°å€åç»§ç»­',
  },
  en: {
    'app.name': 'DESCU',
    'nav.search': 'Search items, cars, homes...',
    'nav.sell': 'Sell',
    'nav.home': 'Home',
    'nav.cart': 'Cart',
    'nav.favorites': 'Favorites',
    'nav.profile': 'Profile',
    'nav.login': 'Login',
    'nav.chat': 'Chat',
    'nav.notifications': 'Alerts',
    'login.required': 'Login Required',
    'login.prompt': 'Please log in to continue',
    'login.google': 'Continue with Google',
    'login.terms': 'By continuing, you agree to our Terms',
    'hero.title': 'Buy Local, Sell in a Flash',
    'hero.subtitle': 'Your AI-powered neighborhood marketplace. Find hidden gems within 5km.',
    'hero.cta': 'Explore Now',
    'list.header': 'Recommended for You',
    'list.search_results': 'Search Results',
    'list.items_count': 'items',
    'list.loading_loc': 'Locating...',
    'list.loc_denied': 'Enable Location',
    'list.loc_success': 'Nearby',
    'list.empty': 'No items yet. Be the first to sell!',
    'list.no_results': 'No items found',
    'list.view_all': 'View All',
    'list.load_more': 'Load More',
    'list.loading_more': 'Loading...',
    'card.nearby': 'Nearby',
    'chat.ask_price': 'Make Offer',
    'chat.offer_title': 'Make an Offer',
    'chat.current_price': 'Current Price',
    'chat.your_offer': 'Your Offer',
    'chat.send_offer': 'Send Offer',
    'chat.cancel': 'Cancel',
    'card.add_cart': 'Add',
    'card.in_cart': 'Added',
    'card.promoted': 'Promoted',
    'modal.title': 'List Item',
    'modal.upload_text': 'Upload Photo',
    'modal.upload_hint': 'AI will auto-fill details',
    'modal.change_img': 'Change Photo',
    'modal.analyzing': 'AI analyzing...',
    'modal.analyzed': 'AI details generated',
    'modal.label.title': 'Title',
    'modal.ph.title': 'e.g., Like new iPhone 14',
    'modal.label.price': 'Price',
    'modal.label.category': 'Category',
    'modal.label.delivery': 'Delivery Method',
    'modal.label.desc': 'Description',
    'modal.ph.desc': 'Describe condition, usage, etc...',
    'modal.loc.loading': 'Locating...',
    'modal.loc.success': 'Location Locked',
    'modal.submit': 'Post Listing',
    'modal.submit.analyzing': 'Analyzing...',
    'modal.policy_hint': 'By posting, you agree to our policies. Hate speech and political misinformation are strictly prohibited.',
    'modal.ai_error': 'AI analysis failed. Please check connection or try again.',
    'cart.title': 'Cart',
    'cart.empty': 'Your cart is empty',
    'cart.go_shop': 'Go Shopping',
    'cart.total': 'Total',
    'cart.checkout': 'Checkout',
    'cart.processing': 'Processing...',
    'cart.success': 'Order Placed!',
    'cat.all': 'All',
    'cat.electronics': 'Electronics',
    'cat.furniture': 'Furniture',
    'cat.clothing': 'Clothing',
    'cat.books': 'Books',
    'cat.sports': 'Sports',
    'cat.vehicles': 'Vehicles',
    'cat.real_estate': 'Real Estate',
    'cat.services': 'Services',
    'cat.other': 'Other',
    // Subcategories - Electronics
    'subcat.phones': 'Phones',
    'subcat.laptops': 'Laptops',
    'subcat.tablets': 'Tablets',
    'subcat.cameras': 'Cameras',
    'subcat.audio': 'Audio',
    'subcat.gaming': 'Gaming',
    'subcat.wearables': 'Wearables',
    'subcat.accessories': 'Accessories',
    // Subcategories - Vehicles
    'subcat.cars': 'Cars',
    'subcat.motorcycles': 'Motorcycles',
    'subcat.bicycles': 'Bicycles',
    'subcat.trucks': 'Trucks',
    'subcat.parts': 'Parts',
    // Subcategories - RealEstate
    'subcat.apartments': 'Apartments',
    'subcat.houses': 'Houses',
    'subcat.land': 'Land',
    'subcat.commercial': 'Commercial',
    'subcat.rentals': 'Rentals',
    // Subcategories - Furniture
    'subcat.sofas': 'Sofas',
    'subcat.beds': 'Beds',
    'subcat.tables': 'Tables & Chairs',
    'subcat.storage': 'Storage',
    'subcat.office': 'Office Furniture',
    // Subcategories - Clothing
    'subcat.women': 'Women',
    'subcat.men': 'Men',
    'subcat.kids': 'Kids',
    'subcat.shoes': 'Shoes',
    'subcat.fashion_accessories': 'Fashion Accessories',
    // Subcategories - Sports
    'subcat.fitness': 'Fitness',
    'subcat.outdoor': 'Outdoor',
    'subcat.team_sports': 'Team Sports',
    'subcat.water_sports': 'Water Sports',
    'subcat.winter_sports': 'Winter Sports',
    // Subcategories - Services
    'subcat.repair': 'Repair',
    'subcat.cleaning': 'Cleaning',
    'subcat.teaching': 'Tutoring',
    'subcat.beauty': 'Beauty',
    'subcat.moving': 'Moving',
    // Subcategories - Books
    'subcat.fiction': 'Fiction',
    'subcat.textbooks': 'Textbooks',
    'subcat.children': 'Children',
    'subcat.magazines': 'Magazines',
    'subcat.comics': 'Comics',
    // Subcategories - Other
    'subcat.collectibles': 'Collectibles',
    'subcat.pets': 'Pet Supplies',
    'subcat.food': 'Food',
    'subcat.plants': 'Plants',
    'delivery.meetup': 'Meetup Only',
    'delivery.shipping': 'Shipping Only',
    'delivery.both': 'Meetup & Shipping',
    'detail.back': 'Back',
    'detail.seller': 'Seller',
    'detail.verified': 'Verified Seller',
    'detail.contact': 'Chat with Seller',
    'detail.posted': 'Posted',
    'detail.location': 'Location',
    'detail.delivery': 'Delivery',
    'detail.desc_title': 'Description',
    'detail.recommend': 'Recommended',
    'detail.report': 'Report this listing',
    'profile.title': 'My Profile',
    'profile.avatar': 'Avatar',
    'profile.change_avatar': 'Change Photo',
    'profile.name': 'Name',
    'profile.email': 'Email',
    'profile.save': 'Save Changes',
    'profile.saved': 'Saved!',
    'profile.listings': 'My Listings',
    'profile.no_listings': 'No active listings',
    'profile.verify_title': 'Identity Verification',
    'profile.verify_desc': 'Upload your ID to become a trusted seller and boost sales.',
    'profile.get_verified': 'Submit ID (Free)',
    'profile.verifying': 'Uploading...',
    'profile.is_verified': 'Identity Verified',
    'profile.boost': 'Boost',
    'profile.safety_policies': 'Safety & Policies',
    'profile.content_policy': 'Content & Political Norms',
    'profile.privacy_policy': 'Privacy Policy',
    'profile.buying': 'My Orders',
    'profile.selling': 'Sales',
    'profile.payouts': 'Payouts & Earnings',
    'profile.payouts_desc': 'Connect your bank account to receive payments directly just like a professional store.',
    'profile.setup_payouts': 'Setup Payouts',
    'report.title': 'Report Content',
    'report.reason': 'Reason for reporting',
    'report.reason.misinfo': 'Political Misinformation',
    'report.reason.hate': 'Hate Speech or Discrimination',
    'report.reason.scam': 'Scam or Misleading',
    'report.reason.prohibited': 'Prohibited Item',
    'report.reason.sensitive': 'Sensitive Political Content',
    'report.submit': 'Submit Report',
    'report.success': 'Thank you for your report. We will review it shortly.',
    'time.today': 'Today',
    'time.days_ago': '{0} days ago',
    'chat.inbox': 'Messages',
    'chat.type': 'Type a message...',
    'chat.send': 'Send',
    'chat.no_msgs': 'No messages yet',
    'chat.empty_inbox': 'No conversations yet',
    'chat.you': 'You',
    // Negotiation
    'nego.title': 'Offer',
    'nego.original_price': 'Original',
    'nego.your_offer': 'Your Offer',
    'nego.counter_price': 'Seller Offer',
    'nego.final_price': 'Final Price',
    'nego.status.pending': 'Pending',
    'nego.status.accepted': 'Accepted',
    'nego.status.rejected': 'Rejected',
    'nego.status.countered': 'Counter Offered',
    'nego.action.accept': 'Accept',
    'nego.action.counter': 'Counter',
    'nego.action.reject': 'Reject',
    'nego.confirm_counter': 'Confirm Counter',
    'nego.cancel': 'Cancel',
    'nego.success.accepted': 'Deal! Price',
    'nego.success.rejected': 'Seller rejected this offer',
    'nego.success.countered': 'Seller made a counter offer',
    'nego.enter_price': 'Enter your price',
    'nego.failed': 'Failed to respond, please retry',
    // Chat tabs
    'chat.tab.all': 'All',
    'chat.tab.active': 'Active',
    'chat.tab.inquiring': 'Inquiring',
    'chat.tab.completed': 'Completed',
    'chat.unknown_product': 'Unknown Product',
    'chat.view_details': 'Click to view details',
    'chat.conversations': 'conversations',
    'chat.empty_inbox_hint': 'Start a conversation from a product page',
    'chat.no_chats_in_tab': 'No conversations in this category',
    'chat.buyers': 'buyers',
    'chat.hide': 'Hide',
    'chat.delete': 'Delete',
    'chat.trading': 'Trading',
    'chat.hide_conversation': 'Hide Chat',
    'chat.delete_conversation': 'Delete Chat',
    'chat.delete_confirm': 'Delete this chat? This cannot be undone.',
    'chat.hidden_count': 'chats hidden',
    'chat.online': 'Online',
    'chat.view_product': 'Tap to view details',
    'chat.report_user': 'Report User',
    'chat.block_user': 'Block User',
    'chat.user_reported': 'User reported',
    'chat.user_blocked': 'User blocked',
    'chat.loading': 'Loading...',
    'chat.load_earlier': 'Load earlier messages',
    'chat.send_failed': 'Send failed, please retry',
    'chat.make_offer': 'Make Offer',
    'chat.share_location': 'Share Location',
    'chat.arrange_meetup': 'Arrange Meetup',
    'chat.arrange_meetup_btn': 'Arrange Meetup',
    'chat.deleted_success': 'Chat deleted',
    'list.search_hint': 'Try different keywords or broader terms',
    'list.empty_hint': 'Be the first to list an item in this category!',
    'product.rate_seller': 'Rate Seller',
    'product.share': 'Share',
    'profile.reviews': 'Reviews',
    'nav.logout': 'Log Out',
    // Toast Messages
    'toast.login_failed': 'Login verification failed',
    'toast.profile_updated': 'Profile updated successfully',
    'toast.update_failed': 'Update failed',
    'toast.product_published': 'ğŸ‰ Product published successfully!',
    'toast.product_publish_failed': 'âŒ Failed to publish product',
    'toast.please_login': 'Please log in first',
    'toast.favorite_added': 'Added to favorites',
    'toast.favorite_removed': 'Removed from favorites',
    'toast.favorite_update_failed': 'Failed to update favorite',
    'toast.chat_open_failed': 'âŒ Unable to open chat, please try again',
    'toast.message_send_failed': 'âŒ Failed to send message, please retry',
    'toast.load_failed': 'Failed to load',
    'toast.upload_failed': 'Upload failed, please try again',
    'product.sold': 'Sold',
    'product.mark_sold': 'Mark as sold',
    'product.relist': 'Relist',
    'product.relist_confirm': 'Relisting requires re-review. Continue?',
    'product.not_available': 'Not available',
    'product.want_it': 'I want it',
    'product.arrange_meetup': 'Arrange Meetup',
    'meetup.location_tbd': 'To be decided',
    'meetup.confirmed': 'Meetup time confirmed',
    'common.cancel': 'Cancel',
    'product.pending_review': 'Under Review',
    'product.rejected': 'Rejected',
    'profile.collapse': 'Collapse',
    'profile.settings': 'Settings & Account',
    'meetup.title': 'Schedule Meetup',
    'meetup.product': 'Product',
    'meetup.select_date': 'Select Date',
    'meetup.select_time': 'Select Time',
    'meetup.select_time_placeholder': 'Select a time',
    'meetup.location_label': 'Location (optional)',
    'meetup.location_placeholder': 'e.g. Starbucks',
    'meetup.note_label': 'Note (optional)',
    'meetup.note_placeholder': 'Additional details...',
    'meetup.sending': 'Sending...',
    'meetup.send_invite': 'Send Meetup Invite',
    'meetup.tip': 'The other party can confirm or suggest a new time',
    'meetup.today': 'Today',
    'meetup.tomorrow': 'Tomorrow',
    'meetup.alert_datetime': 'Please select a date and time',
    'meetup.alert_login': 'Please log in first',
    'meetup.alert_send_failed': 'Failed to send, please try again',
    'meetup.about_product': 'About Product',
    'meetup.date_label': 'Date',
    'meetup.time_label': 'Time',
    'meetup.location_detail': 'Location',
    'meetup.note_detail': 'Note',
    'meetup.confirm_btn': 'Confirm',
    'meetup.suggest_new': 'Suggest New Time',
    'meetup.waiting': 'Waiting for response...',
    'meetup.status_pending': 'â³ Pending',
    'meetup.status_confirmed': 'âœ… Confirmed',
    'meetup.status_rejected': 'âŒ Rejected',
    'meetup.status_counter': 'ğŸ”„ Counter Proposed',
    'meetup.alert_confirm_failed': 'Confirmation failed, please try again',
    'payout.title': 'Earnings',
    'payout.subtitle': 'Manage your payments',
    'payout.total': 'Total',
    'payout.pending': 'Pending',
    'payout.received': 'Received',
    'payout.bank_account': 'Bank Account',
    'payout.edit': 'Edit',
    'payout.clabe_label': 'CLABE (18 digits)',
    'payout.clabe_placeholder': 'Enter 18-digit CLABE',
    'payout.clabe_error': 'CLABE must be 18 digits',
    'payout.bank_name': 'Bank Name',
    'payout.holder_name': 'Account Holder',
    'payout.save': 'Save',
    'payout.save_error': 'Save failed',
    'payout.digits_remaining': '{0} digits remaining',
    'payout.cancel': 'Cancel',
    'payout.history': 'Payment History',
    'payout.status_received': 'Received',
    'payout.status_processing': 'Processing',
    'payout.status_pending': 'Pending',
    'payout.collapse': 'Collapse',
    'payout.view_all': 'View All',
    'stripe.payments_active': 'Payments Active',
    'stripe.ready_desc': 'Your account is ready to receive payments',
    'stripe.account_status': 'Account Status',
    'stripe.active': 'Active',
    'stripe.view_dashboard': 'View Stripe Dashboard',
    'stripe.complete_setup': 'Complete Setup',
    'stripe.info_required': 'Required information missing',
    'stripe.continue': 'Continue Setup',
    'stripe.start_title': 'Start Receiving Payments',
    'stripe.start_desc': 'Set up your bank account',
    'stripe.benefit_receive': 'Receive payments directly',
    'stripe.benefit_withdraw': 'Withdraw to your bank',
    'stripe.benefit_secure': 'Safe and secure',
    'stripe.start_now': 'Start Now',
    'stripe.powered_by': 'Powered by Stripe',
    'negotiate.invalid_price': 'Please enter a valid price',
    'negotiate.login_first': 'Please log in first',
    'negotiate.sent': 'Offer sent',
    'negotiate.send_failed': 'Failed to send offer, please try again',
    'negotiate.subtitle': 'Negotiate price',
    'negotiate.your_offer': 'Your offer',
    'negotiate.discount': 'discount',
    'negotiate.save_amount': 'Save',
    'negotiate.low_warning': 'Very low offer may be rejected',
    'negotiate.sending': 'Sending...',
    'nav.relocate': 'Relocate',
    'camera.ai_failed': 'AI could not identify. Please fill manually.',
    'profile.bank_saved': 'Bank account saved!',
    'image.title': 'Share Photos',
    'image.from_gallery': 'Choose from Gallery',
    'image.take_photo': 'Take Photo',
    'image.count': '{0}/5 photos',
    'image.uploading': 'Uploading... {0}%',
    'image.send': 'Send {0} Photos',
    'image.tip': 'Select up to 5 images, max 5MB each',
    'image.login_first': 'Please log in first',
    'image.send_failed': 'Failed to send images, please try again',
    'image.shared': 'Shared {0} photos',
    'location.title': 'Share Location',
    'location.current': 'Use Current Location',
    'location.or_search': 'or search for a place',
    'location.search_placeholder': 'Search places...',
    'location.current_name': 'Current Location',
    'location.lat_lng': 'Lat: {0}, Lng: {1}',
    'location.geo_unsupported': 'Geolocation is not supported by your browser',
    'location.geo_denied': 'Unable to get your location, please check permissions',
    'location.not_found': 'Place not found',
    'location.send_failed': 'Failed to send location, please try again',
    'location.sending': 'Sending...',
    'location.send': 'Send Location',
    'location.tip': 'Try searching for popular places',
    'location.shared': 'Shared location',
    'location.address_copied': 'Address copied',
    'location.shared_by': '{0} shared location',
    'location.share_title': 'Location Shared',
    'location.navigate': 'Navigate',
    'location.copy': 'Copy',
    'location.view_in_maps': 'View in Google Maps',
    'location.map_preview': 'Map preview',
    'location.click_map': 'Click to view full map',
    'auth.login_failed': 'Login failed, please try again',
    'auth.logging_in': 'Logging in...',
    'auth.login_google': 'Sign in with Google',
    'auth.logout': 'Sign out',
    // Checkout
    'checkout.select_method': 'Select Method',
    'checkout.meetup_title': 'In-Person Meetup',
    'checkout.meetup_desc': 'Meet locally, pay with cash',
    'checkout.shipping_title': 'Shipping',
    'checkout.shipping_desc': 'Delivered to you, secure online payment',
    'checkout.review': 'Review Order',
    'checkout.payment_cash': 'Cash Payment',
    'checkout.payment_online': 'Online Payment',
    'checkout.product': 'Product',
    'checkout.shipping_fee': 'Shipping',
    'checkout.platform_fee': 'Platform Fee (3%)',
    'checkout.total': 'Total',
    'checkout.confirm': 'Confirm Order',
    'checkout.pay_now': 'Proceed to Pay',
    'checkout.processing': 'Processing...',
    'checkout.secure_payment': 'Secure Payment',
    'checkout.success': 'Order Placed!',
    'checkout.meetup_success': 'Arrange meetup details with the seller in chat',
    'checkout.shipping_success': 'The seller has been notified to ship your item',
    'checkout.go_orders': 'Go to Orders',
    'checkout.no_methods': 'No delivery methods available',
    'checkout.address': 'Shipping Address',
    'checkout.address_required': 'Please select or add a shipping address',
    'checkout.address_hint': 'Address selection required to proceed',
  },
  es: {
    'app.name': 'DESCU',
    'nav.search': 'Buscar autos, depas, servicios...',
    'nav.sell': 'Vender',
    'nav.home': 'Inicio',
    'nav.cart': 'Carrito',
    'nav.favorites': 'Favoritos',
    'nav.profile': 'Perfil',
    'nav.login': 'Entrar',
    'nav.chat': 'Mensajes',
    'nav.notifications': 'Alertas',
    'login.required': 'Iniciar SesiÃ³n',
    'login.prompt': 'Por favor inicia sesiÃ³n para continuar',
    'login.google': 'Continuar con Google',
    'login.terms': 'Al continuar, aceptas nuestros TÃ©rminos',
    'hero.title': 'Compra local, vende rÃ¡pido',
    'hero.subtitle': 'Tu mercado digital inteligente.',
    'hero.cta': 'Ver Ofertas',
    'list.header': 'Recomendados',
    'list.search_results': 'Resultados',
    'list.items_count': 'artÃ­culos',
    'list.loading_loc': 'Ubicando...',
    'list.loc_denied': 'Activar UbicaciÃ³n',
    'list.loc_success': 'Cerca de ti',
    'list.empty': 'Â¡SÃ© el primero en vender algo!',
    'list.no_results': 'No se encontraron resultados',
    'list.view_all': 'Ver Todo',
    'list.load_more': 'Cargar MÃ¡s',
    'list.loading_more': 'Cargando...',
    'card.nearby': 'Cerca',
    'chat.ask_price': 'Ofertar',
    'chat.offer_title': 'Hacer Oferta',
    'chat.current_price': 'Precio Actual',
    'chat.your_offer': 'Tu Oferta',
    'chat.send_offer': 'Enviar Oferta',
    'chat.cancel': 'Cancelar',
    'card.add_cart': 'Lo quiero',
    'card.in_cart': 'Agregado',
    'card.promoted': 'Destacado',
    'modal.title': 'Publicar Anuncio',
    'modal.upload_text': 'Subir Foto',
    'modal.upload_hint': 'La IA llenarÃ¡ los datos por ti',
    'modal.change_img': 'Cambiar Foto',
    'modal.analyzing': 'IA analizando imagen...',
    'modal.analyzed': 'Datos generados por IA',
    'modal.label.title': 'TÃ­tulo',
    'modal.ph.title': 'ej. VW Jetta 2018 impecable',
    'modal.label.price': 'Precio',
    'modal.label.category': 'CategorÃ­a',
    'modal.label.delivery': 'Entrega',
    'modal.label.desc': 'DescripciÃ³n',
    'modal.ph.desc': 'Detalles, condiciones, kilometraje...',
    'modal.loc.loading': 'Localizando...',
    'modal.loc.success': 'UbicaciÃ³n agregada',
    'modal.submit': 'Publicar Ahora',
    'modal.submit.analyzing': 'Analizando...',
    'modal.policy_hint': 'Al publicar, aceptas nuestras polÃ­ticas. Se prohÃ­be el discurso de odio y la desinformaciÃ³n polÃ­tica.',
    'modal.ai_error': 'AnÃ¡lisis de IA fallido. Revisa tu conexiÃ³n o intenta mÃ¡s tarde.',
    'cart.title': 'Carrito',
    'cart.empty': 'Tu carrito estÃ¡ vacÃ­o',
    'cart.go_shop': 'Ir a la tienda',
    'cart.total': 'Total',
    'cart.checkout': 'Comprar',
    'cart.processing': 'Procesando...',
    'cart.success': 'Â¡Compra exitosa!',
    'cat.all': 'Todo',
    'cat.electronics': 'ElectrÃ³nica',
    'cat.furniture': 'Hogar',
    'cat.clothing': 'Moda',
    'cat.books': 'Libros',
    'cat.sports': 'Deportes',
    'cat.vehicles': 'Autos',
    'cat.real_estate': 'Inmuebles',
    'cat.services': 'Servicios',
    'cat.other': 'Otros',
    // Subcategories - Electronics
    'subcat.phones': 'Celulares',
    'subcat.laptops': 'Laptops',
    'subcat.tablets': 'Tablets',
    'subcat.cameras': 'CÃ¡maras',
    'subcat.audio': 'Audio',
    'subcat.gaming': 'Gaming',
    'subcat.wearables': 'Wearables',
    'subcat.accessories': 'Accesorios',
    // Subcategories - Vehicles
    'subcat.cars': 'Autos',
    'subcat.motorcycles': 'Motos',
    'subcat.bicycles': 'Bicicletas',
    'subcat.trucks': 'Camiones',
    'subcat.parts': 'Refacciones',
    // Subcategories - RealEstate
    'subcat.apartments': 'Departamentos',
    'subcat.houses': 'Casas',
    'subcat.land': 'Terrenos',
    'subcat.commercial': 'Locales',
    'subcat.rentals': 'Renta',
    // Subcategories - Furniture
    'subcat.sofas': 'SofÃ¡s',
    'subcat.beds': 'Camas',
    'subcat.tables': 'Mesas y Sillas',
    'subcat.storage': 'Almacenaje',
    'subcat.office': 'Muebles de Oficina',
    // Subcategories - Clothing
    'subcat.women': 'Mujer',
    'subcat.men': 'Hombre',
    'subcat.kids': 'NiÃ±os',
    'subcat.shoes': 'Zapatos',
    'subcat.fashion_accessories': 'Accesorios de Moda',
    // Subcategories - Sports
    'subcat.fitness': 'Fitness',
    'subcat.outdoor': 'Exterior',
    'subcat.team_sports': 'Deportes de Equipo',
    'subcat.water_sports': 'Deportes AcuÃ¡ticos',
    'subcat.winter_sports': 'Deportes de Invierno',
    // Subcategories - Services
    'subcat.repair': 'ReparaciÃ³n',
    'subcat.cleaning': 'Limpieza',
    'subcat.teaching': 'Clases',
    'subcat.beauty': 'Belleza',
    'subcat.moving': 'Mudanzas',
    // Subcategories - Books
    'subcat.fiction': 'FicciÃ³n',
    'subcat.textbooks': 'Libros de Texto',
    'subcat.children': 'Infantil',
    'subcat.magazines': 'Revistas',
    'subcat.comics': 'CÃ³mics',
    // Subcategories - Other
    'subcat.collectibles': 'Coleccionables',
    'subcat.pets': 'Mascotas',
    'subcat.food': 'Comida',
    'subcat.plants': 'Plantas',
    'delivery.meetup': 'Entrega Personal',
    'delivery.shipping': 'EnvÃ­o a Domicilio',
    'delivery.both': 'Entrega Personal o EnvÃ­o',
    'detail.back': 'Volver',
    'detail.seller': 'Vendedor',
    'detail.verified': 'Vendedor Verificado',
    'detail.contact': 'Contactar Vendedor',
    'detail.posted': 'Publicado',
    'detail.location': 'UbicaciÃ³n',
    'detail.delivery': 'Entrega',
    'detail.desc_title': 'DescripciÃ³n',
    'detail.recommend': 'Te puede interesar',
    'detail.report': 'Reportar este anuncio',
    'profile.title': 'Mi Perfil',
    'profile.avatar': 'Foto de Perfil',
    'profile.change_avatar': 'Cambiar Foto',
    'profile.name': 'Nombre',
    'profile.email': 'Correo',
    'profile.save': 'Guardar Cambios',
    'profile.saved': 'Â¡Guardado!',
    'profile.listings': 'Mis Publicaciones',
    'profile.no_listings': 'Sin publicaciones activas',
    'profile.verify_title': 'VerificaciÃ³n de Identidad',
    'profile.verify_desc': 'Sube tu identificaciÃ³n oficial (INE/Pasaporte) para ser un vendedor confiable.',
    'profile.get_verified': 'Subir ID (Gratis)',
    'profile.verifying': 'Subiendo...',
    'profile.is_verified': 'Identidad Verificada',
    'profile.boost': 'Destacar',
    'profile.safety_policies': 'Seguridad y PolÃ­ticas',
    'profile.content_policy': 'Normas de Contenido y PolÃ­tica',
    'profile.privacy_policy': 'PolÃ­tica de Privacidad',
    'profile.buying': 'Mis Compras',
    'profile.selling': 'Mis Ventas',
    'profile.payouts': 'Pagos y Ganancias',
    'profile.payouts_desc': 'Conecta tu cuenta bancaria para recibir pagos directamente como una tienda profesional.',
    'profile.setup_payouts': 'Configurar Pagos',
    'report.title': 'Reportar Contenido',
    'report.reason': 'Motivo del reporte',
    'report.reason.misinfo': 'DesinformaciÃ³n PolÃ­tica',
    'report.reason.hate': 'Discurso de Odio o DiscriminaciÃ³n',
    'report.reason.scam': 'Fraude o EngaÃ±o',
    'report.reason.prohibited': 'ArtÃ­culo Prohibido',
    'report.reason.sensitive': 'Contenido PolÃ­tico Sensible',
    'report.submit': 'Enviar Reporte',
    'report.success': 'Gracias por tu reporte. Lo revisaremos a la brevedad.',
    'time.today': 'Hoy',
    'time.days_ago': 'Hace {0} dÃ­as',
    'chat.inbox': 'Mensajes',
    'chat.type': 'Escribe un mensaje...',
    'chat.send': 'Enviar',
    'chat.no_msgs': 'AÃºn no hay mensajes',
    'chat.empty_inbox': 'No tienes conversaciones',
    'chat.you': 'TÃº',
    // NegociaciÃ³n
    'nego.title': 'Oferta',
    'nego.original_price': 'Precio Original',
    'nego.your_offer': 'Tu Oferta',
    'nego.counter_price': 'Contraoferta',
    'nego.final_price': 'Precio Final',
    'nego.status.pending': 'Pendiente',
    'nego.status.accepted': 'Aceptada',
    'nego.status.rejected': 'Rechazada',
    'nego.status.countered': 'Contraoferta',
    'nego.action.accept': 'Aceptar',
    'nego.action.counter': 'Contraofertar',
    'nego.action.reject': 'Rechazar',
    'nego.confirm_counter': 'Confirmar',
    'nego.cancel': 'Cancelar',
    'nego.success.accepted': 'Â¡Trato hecho! Precio',
    'nego.success.rejected': 'El vendedor rechazÃ³ esta oferta',
    'nego.success.countered': 'El vendedor hizo una contraoferta',
    'nego.enter_price': 'Ingresa tu precio',
    'nego.failed': 'Error al responder, intenta de nuevo',
    // PestaÃ±as de chat
    'chat.tab.all': 'Todo',
    'chat.tab.active': 'Activo',
    'chat.tab.inquiring': 'Consultando',
    'chat.tab.completed': 'Completado',
    'chat.unknown_product': 'Producto desconocido',
    'chat.view_details': 'Clic para ver detalles',
    'chat.conversations': 'conversaciones',
    'chat.empty_inbox_hint': 'Inicia una conversaciÃ³n desde un producto',
    'chat.no_chats_in_tab': 'No hay conversaciones en esta categorÃ­a',
    'chat.buyers': 'compradores',
    'chat.hide': 'Ocultar',
    'chat.delete': 'Eliminar',
    'chat.trading': 'En proceso',
    'chat.hide_conversation': 'Ocultar chat',
    'chat.delete_conversation': 'Eliminar chat',
    'chat.delete_confirm': 'Â¿Eliminar este chat? Esta acciÃ³n no se puede deshacer.',
    'chat.hidden_count': 'chats ocultos',
    'chat.online': 'En lÃ­nea',
    'chat.view_product': 'Toca para ver detalles',
    'chat.report_user': 'Reportar Usuario',
    'chat.block_user': 'Bloquear Usuario',
    'chat.user_reported': 'Usuario reportado',
    'chat.user_blocked': 'Usuario bloqueado',
    'chat.loading': 'Cargando...',
    'chat.load_earlier': 'Cargar mensajes anteriores',
    'chat.send_failed': 'EnvÃ­o fallido, intenta de nuevo',
    'chat.make_offer': 'Ofertar',
    'chat.share_location': 'Compartir UbicaciÃ³n',
    'chat.arrange_meetup': 'Agendar Encuentro',
    'chat.arrange_meetup_btn': 'Agendar Encuentro',
    'chat.deleted_success': 'Chat eliminado',
    'list.search_hint': 'Intenta con otras palabras o tÃ©rminos mÃ¡s amplios',
    'list.empty_hint': 'Â¡SÃ© el primero en publicar en esta categorÃ­a!',
    'product.rate_seller': 'Calificar Vendedor',
    'product.share': 'Compartir',
    'profile.reviews': 'ReseÃ±as',
    'nav.logout': 'Cerrar SesiÃ³n',
    // Mensajes Toast
    'toast.login_failed': 'Error de verificaciÃ³n de inicio de sesiÃ³n',
    'toast.profile_updated': 'Perfil actualizado exitosamente',
    'toast.update_failed': 'ActualizaciÃ³n fallida',
    'toast.product_published': 'ğŸ‰ Â¡Producto publicado con Ã©xito!',
    'toast.product_publish_failed': 'âŒ Error al publicar producto',
    'toast.please_login': 'Por favor inicia sesiÃ³n primero',
    'toast.favorite_added': 'Agregado a favoritos',
    'toast.favorite_removed': 'Eliminado de favoritos',
    'toast.favorite_update_failed': 'Error al actualizar favorito',
    'toast.chat_open_failed': 'âŒ No se puede abrir el chat, intenta mÃ¡s tarde',
    'toast.message_send_failed': 'âŒ Error al enviar mensaje, intenta de nuevo',
    'toast.load_failed': 'Error al cargar',
    'toast.upload_failed': 'Error al subir, intenta de nuevo',
    'product.sold': 'Vendido',
    'product.mark_sold': 'Marcar vendido',
    'product.relist': 'Republicar',
    'product.relist_confirm': 'Republicar requiere revisiÃ³n. Â¿Continuar?',
    'product.not_available': 'No disponible',
    'product.want_it': 'Lo quiero',
    'product.arrange_meetup': 'Coordinar Encuentro',
    'meetup.location_tbd': 'Por definir',
    'meetup.confirmed': 'Hora de encuentro confirmada',
    'common.cancel': 'Cancelar',
    'product.pending_review': 'En revisiÃ³n',
    'product.rejected': 'Rechazado',
    'profile.collapse': 'Cerrar',
    'profile.settings': 'ConfiguraciÃ³n y Cuenta',
    'meetup.title': 'Agendar Encuentro',
    'meetup.product': 'Producto',
    'meetup.select_date': 'Seleccionar Fecha',
    'meetup.select_time': 'Seleccionar Hora',
    'meetup.select_time_placeholder': 'Selecciona una hora',
    'meetup.location_label': 'Lugar (opcional)',
    'meetup.location_placeholder': 'ej. Starbucks',
    'meetup.note_label': 'Nota (opcional)',
    'meetup.note_placeholder': 'Detalles adicionales...',
    'meetup.sending': 'Enviando...',
    'meetup.send_invite': 'Enviar InvitaciÃ³n',
    'meetup.tip': 'La otra parte puede confirmar o sugerir un nuevo horario',
    'meetup.today': 'Hoy',
    'meetup.tomorrow': 'MaÃ±ana',
    'meetup.alert_datetime': 'Selecciona fecha y hora',
    'meetup.alert_login': 'Inicia sesiÃ³n primero',
    'meetup.alert_send_failed': 'Error al enviar, intÃ©ntalo de nuevo',
    'meetup.about_product': 'Sobre el Producto',
    'meetup.date_label': 'Fecha',
    'meetup.time_label': 'Hora',
    'meetup.location_detail': 'Lugar',
    'meetup.note_detail': 'Nota',
    'meetup.confirm_btn': 'Confirmar',
    'meetup.suggest_new': 'Sugerir Nuevo Horario',
    'meetup.waiting': 'Esperando respuesta...',
    'meetup.status_pending': 'â³ Pendiente',
    'meetup.status_confirmed': 'âœ… Confirmado',
    'meetup.status_rejected': 'âŒ Rechazado',
    'meetup.status_counter': 'ğŸ”„ Hora Alternativa',
    'meetup.alert_confirm_failed': 'Error al confirmar, intÃ©ntalo de nuevo',
    'payout.title': 'Ingresos',
    'payout.subtitle': 'Gestiona tus pagos',
    'payout.total': 'Total',
    'payout.pending': 'Pendiente',
    'payout.received': 'Recibido',
    'payout.bank_account': 'Cuenta Bancaria',
    'payout.edit': 'Editar',
    'payout.clabe_label': 'CLABE (18 dÃ­gitos)',
    'payout.clabe_placeholder': 'Ingresa CLABE de 18 dÃ­gitos',
    'payout.clabe_error': 'CLABE debe tener 18 dÃ­gitos',
    'payout.bank_name': 'Banco',
    'payout.holder_name': 'Titular',
    'payout.save': 'Guardar',
    'payout.save_error': 'Error al guardar',
    'payout.digits_remaining': 'Faltan {0} dÃ­gitos',
    'payout.cancel': 'Cancelar',
    'payout.history': 'Historial de Pagos',
    'payout.status_received': 'Recibido',
    'payout.status_processing': 'Procesando',
    'payout.status_pending': 'Pendiente',
    'payout.collapse': 'Ocultar',
    'payout.view_all': 'Ver todo',
    'stripe.payments_active': 'Pagos Activos',
    'stripe.ready_desc': 'Tu cuenta estÃ¡ lista para recibir pagos',
    'stripe.account_status': 'Estado de cuenta',
    'stripe.active': 'Activa',
    'stripe.view_dashboard': 'Ver Dashboard de Stripe',
    'stripe.complete_setup': 'Completar Registro',
    'stripe.info_required': 'Falta informaciÃ³n requerida',
    'stripe.continue': 'Continuar con Stripe',
    'stripe.start_title': 'Recibe Pagos',
    'stripe.start_desc': 'Configura tu cuenta bancaria',
    'stripe.benefit_receive': 'Recibe pagos directamente',
    'stripe.benefit_withdraw': 'Retiros a tu banco',
    'stripe.benefit_secure': 'Seguro y verificado',
    'stripe.start_now': 'Comenzar ahora',
    'stripe.powered_by': 'Powered by Stripe',
    'negotiate.invalid_price': 'Por favor ingresa un precio vÃ¡lido',
    'negotiate.login_first': 'Por favor inicia sesiÃ³n',
    'negotiate.sent': 'Oferta enviada âœ“',
    'negotiate.send_failed': 'Error al enviar oferta',
    'negotiate.subtitle': 'Negociar precio',
    'negotiate.your_offer': 'Tu oferta',
    'negotiate.discount': 'descuento',
    'negotiate.save_amount': 'Ahorras',
    'negotiate.low_warning': 'Oferta baja podrÃ­a ser rechazada',
    'negotiate.sending': 'Enviando...',
    'nav.relocate': 'Reubicar',
    'camera.ai_failed': 'AI no pudo identificar. Por favor llena manualmente.',
    'profile.bank_saved': 'Â¡Cuenta bancaria guardada!',
    'image.title': 'Compartir Fotos',
    'image.from_gallery': 'Elegir de la GalerÃ­a',
    'image.take_photo': 'Tomar Foto',
    'image.count': '{0}/5 fotos',
    'image.uploading': 'Subiendo... {0}%',
    'image.send': 'Enviar {0} Fotos',
    'image.tip': 'Selecciona hasta 5 imÃ¡genes, mÃ¡x 5MB c/u',
    'image.login_first': 'Inicia sesiÃ³n primero',
    'image.send_failed': 'Error al enviar imÃ¡genes, intenta de nuevo',
    'image.shared': 'CompartiÃ³ {0} fotos',
    'location.title': 'Compartir UbicaciÃ³n',
    'location.current': 'Usar UbicaciÃ³n Actual',
    'location.or_search': 'o buscar un lugar',
    'location.search_placeholder': 'Buscar lugares...',
    'location.current_name': 'UbicaciÃ³n Actual',
    'location.lat_lng': 'Lat: {0}, Lng: {1}',
    'location.geo_unsupported': 'La geolocalizaciÃ³n no es compatible con tu navegador',
    'location.geo_denied': 'No se puede obtener tu ubicaciÃ³n, revisa los permisos',
    'location.not_found': 'Lugar no encontrado',
    'location.send_failed': 'Error al enviar ubicaciÃ³n, intenta de nuevo',
    'location.sending': 'Enviando...',
    'location.send': 'Enviar UbicaciÃ³n',
    'location.tip': 'Intenta buscar lugares populares',
    'location.shared': 'CompartiÃ³ ubicaciÃ³n',
    'location.address_copied': 'DirecciÃ³n copiada',
    'location.shared_by': '{0} compartiÃ³ ubicaciÃ³n',
    'location.share_title': 'UbicaciÃ³n Compartida',
    'location.navigate': 'Navegar',
    'location.copy': 'Copiar',
    'location.view_in_maps': 'Ver en Google Maps',
    'location.map_preview': 'Vista previa del mapa',
    'location.click_map': 'Clic para ver mapa completo',
    'auth.login_failed': 'Error al iniciar sesiÃ³n, intenta de nuevo',
    'auth.logging_in': 'Iniciando sesiÃ³n...',
    'auth.login_google': 'Iniciar con Google',
    'auth.logout': 'Cerrar sesiÃ³n',
    // Checkout
    'checkout.select_method': 'Seleccionar MÃ©todo',
    'checkout.meetup_title': 'Encuentro en Persona',
    'checkout.meetup_desc': 'Encuentro local, pago en efectivo',
    'checkout.shipping_title': 'EnvÃ­o',
    'checkout.shipping_desc': 'Entrega a domicilio, pago en lÃ­nea seguro',
    'checkout.review': 'Revisar Pedido',
    'checkout.payment_cash': 'Pago en Efectivo',
    'checkout.payment_online': 'Pago en LÃ­nea',
    'checkout.product': 'Producto',
    'checkout.shipping_fee': 'EnvÃ­o',
    'checkout.platform_fee': 'ComisiÃ³n (3%)',
    'checkout.total': 'Total',
    'checkout.confirm': 'Confirmar Pedido',
    'checkout.pay_now': 'Proceder a Pagar',
    'checkout.processing': 'Procesando...',
    'checkout.secure_payment': 'Pago Seguro',
    'checkout.success': 'Â¡Pedido Realizado!',
    'checkout.meetup_success': 'Coordina los detalles del encuentro con el vendedor en el chat',
    'checkout.shipping_success': 'El vendedor ha sido notificado para enviar tu artÃ­culo',
    'checkout.go_orders': 'Ver Pedidos',
    'checkout.no_methods': 'Sin mÃ©todos de entrega disponibles',
    'checkout.address': 'DirecciÃ³n de EnvÃ­o',
    'checkout.address_required': 'Selecciona o agrega una direcciÃ³n de envÃ­o',
    'checkout.address_hint': 'Se requiere seleccionar direcciÃ³n para continuar',
  }
};

export const LanguageProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [language, setLanguage] = useState<Language>(() => {
    // 1. Check local storage
    const saved = localStorage.getItem('app_language') as Language;
    if (saved && ['zh', 'en', 'es'].includes(saved)) return saved;

    // 2. Check browser language
    if (typeof navigator !== 'undefined') {
      const browserLang = navigator.language.toLowerCase();
      if (browserLang.startsWith('zh')) return 'zh';
      if (browserLang.startsWith('en')) return 'en';
      if (browserLang.startsWith('es')) return 'es';
    }

    // 3. Default
    return 'es';
  });

  useEffect(() => {
    localStorage.setItem('app_language', language);
  }, [language]);

  const t = (key: string): string => {
    return translations[language][key] || key;
  };

  const formatPrice = (price: number) => {
    if (language === 'zh') {
      return `Â¥${price.toLocaleString()}`;
    } else {
      return `$${price.toLocaleString()}`;
    }
  };

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t, formatPrice }}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};
